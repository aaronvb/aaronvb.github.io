{"componentChunkName":"component---src-templates-post-template-js","path":"/articles/ajax-checkbox-in-ruby-on-rails-2-3","result":{"data":{"markdownRemark":{"id":"0e935c9c-7cde-544b-88a8-86a344effecd","html":"<p>Neat trick if you want to use Ajax on a checkbox and donâ€™t want to create a separate function for onclick.</p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\"><span class=\"token comment\"># Note model has a column, :important, :boolean, :default => false</span>\n\n<span class=\"token comment\"># This goes in your HTML erb</span>\n\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">%</span> <span class=\"token variable\">@user</span><span class=\"token punctuation\">.</span>notes<span class=\"token punctuation\">.</span>find<span class=\"token punctuation\">(</span><span class=\"token symbol\">:all</span><span class=\"token punctuation\">,</span> <span class=\"token symbol\">:order</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token string\">'updated_at DESC'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">each</span> <span class=\"token keyword\">do</span> <span class=\"token operator\">|</span>user_note<span class=\"token operator\">|</span> <span class=\"token string\">%>\n&lt;% remote_form_for user_note, {:url =></span>\n  remote_toggle_important_user_note_path<span class=\"token punctuation\">(</span><span class=\"token symbol\">:user_id</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token variable\">@user</span><span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span> <span class=\"token symbol\">:id</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> user_note<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span> <span class=\"token keyword\">do</span> <span class=\"token operator\">|</span>f<span class=\"token operator\">|</span> <span class=\"token string\">%>\n&lt;%= f.check_box :important, :onclick =></span> <span class=\"token string\">\"$('edit_user_note_<span class=\"token interpolation\"><span class=\"token delimiter tag\">#{</span>user_note<span class=\"token punctuation\">.</span>id<span class=\"token delimiter tag\">}</span></span>').onsubmit()\"</span> <span class=\"token string\">%>&lt;%= f.label :important %></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">%</span> <span class=\"token keyword\">end</span> <span class=\"token string\">%>\n&lt;% end %></span>\n\n<span class=\"token comment\"># routes</span>\n\nmap<span class=\"token punctuation\">.</span>resources <span class=\"token symbol\">:users</span> <span class=\"token keyword\">do</span> <span class=\"token operator\">|</span>user<span class=\"token operator\">|</span>\n  user<span class=\"token punctuation\">.</span>resources <span class=\"token symbol\">:notes</span><span class=\"token punctuation\">,</span> <span class=\"token symbol\">:member</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span> <span class=\"token symbol\">:remote_toggle_important</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token symbol\">:put</span> <span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">end</span>\n\n<span class=\"token comment\"># notes controller</span>\n\n<span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token function\">remote_toggle_important</span></span>\n  <span class=\"token variable\">@note</span> <span class=\"token operator\">=</span> <span class=\"token constant\">UserNote</span><span class=\"token punctuation\">.</span>find_by_id<span class=\"token punctuation\">(</span>params<span class=\"token punctuation\">[</span><span class=\"token symbol\">:id</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">if</span> <span class=\"token variable\">@note</span>\n    <span class=\"token variable\">@note</span><span class=\"token punctuation\">.</span>update_attributes<span class=\"token punctuation\">(</span>params<span class=\"token punctuation\">[</span><span class=\"token symbol\">:user_note</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">end</span>\n<span class=\"token keyword\">end</span></code></pre></div>","fields":{"slug":"/articles/ajax-checkbox-in-ruby-on-rails-2-3","tagSlugs":["/tag/code/","/tag/ruby-on-rails/"]},"frontmatter":{"date":"2011-03-06","description":"Neat trick if you want to use Ajax on a checkbox and don't want to create a separate function for onclick.","tags":["Code","Ruby on Rails"],"title":"Ajax checkbox in Ruby on Rails 2.3","legacyArticleId":null}}},"pageContext":{"slug":"/articles/ajax-checkbox-in-ruby-on-rails-2-3"}},"staticQueryHashes":["2255556206","251939775","401334301"]}
{"componentChunkName":"component---src-templates-post-template-js","path":"/articles/rails-react-stdio","result":{"data":{"markdownRemark":{"id":"c896d412-3020-5c52-bfef-655ccf097fd0","html":"<p>Over the past weekend I was exploring a different method to server side render(aka prerender) react components in Ruby on Rails.</p>\n<p>Right now the two most popular  Rails + React gems are <a href=\"https://github.com/reactjs/react-rails\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">react-rails</a> and <a href=\"https://github.com/shakacode/react_on_rails\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">react on rails</a>. Both of them rely on ExecJS(using therubyracer), with react-rails also supporting sprockets, to prerender react components.</p>\n<p>If you’re not familiar with prerendering react components on the server, it’s simply Rails rendering the react component in the view before the DOM is loaded. This can be beneficial for SEO reasons.</p>\n<p>I came across <a href=\"https://github.com/mjackson/react-stdio\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">react-stdio</a> (not to be confused with studio) while working on issues in the react<em>on</em>rails repo: <a href=\"https://github.com/shakacode/react_on_rails/issues/183\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">#183</a> and decided to see if I could easily implement it without rewriting a lot of the server rendering code. I started with react-rails as they have support for adding your own server renderer class.</p>\n<p>Long story short, I was not able to easily integrate react-stdio into either libraries due to the way they render JS code. They both take the compiled components JS file and pass the string of JS code to be evaluated and returned, while also passing polyfills before the JS code. In react-stdio, you can only provide it with a path to the component, not a string of JS code. While I think it’s definitely possible to integrate it react-stdio, I don’t believe it’s worth pursing as the current methods work perfectly fine.</p>\n<p>Still, I think there could be uses outside of those libraries, which is why I decided to create this gem.</p>\n<blockquote>\n<p>This is a simple Ruby on Rails wrapper for react-stdio.\n— <a href=\"https://github.com/aaronvb/rails_react_stdio\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">rails<em>react</em>stdio</a></p>\n</blockquote>\n<p>Using rails<em>react</em>stdio is actually extremely simple, just like react-stdio!</p>\n<p>First make sure you have NPM installed and have react-stdio installed.</p>\n<p>Add <code class=\"language-text\">rails_react_stdio</code> to your gemfile:</p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\">gem <span class=\"token string\">'rails_react_stdio'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'~> 0.1.0'</span></code></pre></div>\n<p>If your path to react-stdio is not installed in the default location <code class=\"language-text\">/usr/local/bin/react-stdio</code>, add a configuration file to your initializers folder.</p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\"><span class=\"token constant\">RailsReactStdio</span><span class=\"token punctuation\">.</span>configure <span class=\"token keyword\">do</span> <span class=\"token operator\">|</span>config<span class=\"token operator\">|</span>\n  config<span class=\"token punctuation\">.</span>react_stdio_path <span class=\"token operator\">=</span> <span class=\"token string\">'/your/path/to/react-stdio'</span>\n<span class=\"token keyword\">end</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\">path_to_component <span class=\"token operator\">=</span> <span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token constant\">Rails</span><span class=\"token punctuation\">.</span>application<span class=\"token punctuation\">.</span>assets<span class=\"token punctuation\">[</span><span class=\"token string\">'components/HelloWorld'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>filename\n\n<span class=\"token constant\">RailsReactStdio</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token constant\">React</span><span class=\"token punctuation\">.</span>render<span class=\"token punctuation\">(</span>path_to_component<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>message<span class=\"token punctuation\">:</span> <span class=\"token string\">\"aaron\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token operator\">></span> <span class=\"token string\">\"&lt;p data-reactid=\\\".1on4o1jtdds\\\" data-react-checksum=\\\"359665029\\\">Hello, aaron&lt;/p>\"</span></code></pre></div>\n<p>If you find this useful give me feedback or open a PR. Also, thanks to react-stdio for providing a neat way to render react components.</p>","fields":{"slug":"/articles/rails-react-stdio","tagSlugs":["/tag/code/","/tag/ruby/","/tag/react/","/tag/ruby-on-rails/","/tag/java-script/"]},"frontmatter":{"date":"2016-02-01","description":"A simple Ruby on Rails wrapper for react-stdio.","tags":["Code","Ruby","React","Ruby on Rails","JavaScript"],"title":"Ruby on Rails Wrapper for react-stdio","legacyArticleId":null}}},"pageContext":{"slug":"/articles/rails-react-stdio"}},"staticQueryHashes":["2255556206","251939775","401334301"]}